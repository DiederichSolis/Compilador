class Producto {
    var nombre: string;
    var precio: integer;
    var cantidad: integer;

    function init(nombre: string, precio: integer, cantidad: integer): void {
        this.nombre = nombre;
        this.precio = precio;
        this.cantidad = cantidad;
    }

    function calcularValorInventario(): integer {
        var valor: integer = this.precio * this.cantidad;
        print("Valor del inventario de " + this.nombre + ": " + valor);
        return valor;
    }

    function vender(cantidadVendida: integer): void {
        if (cantidadVendida <= this.cantidad) {
            this.cantidad = this.cantidad - cantidadVendida;
            print("Se vendieron " + cantidadVendida + " unidades de " + this.nombre);
        } else {
            print("No hay suficiente inventario para vender " + cantidadVendida + " unidades de " + this.nombre);
        }
    }

    function restock(cantidadAgregada: integer): void {
        this.cantidad = this.cantidad + cantidadAgregada;
        print("Se añadieron " + cantidadAgregada + " unidades de " + this.nombre + " al inventario.");
    }
}

class Categoria {
    var nombre: string;

    function init(nombre: string): void {
        this.nombre = nombre;
    }

    // Calcula el valor total recibiendo la lista como parámetro
    function calcularValorTotal(productos: Producto[]): integer {
        var total: integer = 0;
        foreach (p in productos) {
            total = total + (p.precio * p.cantidad);
        }
        return total;
    }

    function mostrarValorTotal(productos: Producto[]): void {
        var valorTotal: integer = this.calcularValorTotal(productos);
        print("El valor total de la categoría " + this.nombre + " es: " + valorTotal);
    }
}

// --- Uso ---

var electronica: Categoria = new Categoria();
electronica.init("Electrónica");

var laptop: Producto = new Producto();
laptop.init("Laptop", 1000, 10);

var smartphone: Producto = new Producto();
smartphone.init("Smartphone", 500, 20);

var tablet: Producto = new Producto();
tablet.init("Tablet", 300, 15);

// operaciones
laptop.vender(3);
smartphone.restock(10);

// "inventario" como arreglo literal
var inventario: Producto[] = [laptop, smartphone, tablet];

// Calcular el valor total
electronica.mostrarValorTotal(inventario);
